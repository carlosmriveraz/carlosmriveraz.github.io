<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="Menú Interactivo de Heladería" />
    <title></title>

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Honk&family=Kalnia+Glaze:wght@100..700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="css/movil.css" />

    <link rel="stylesheet" href="css/menu__seccion.css" />
    <link rel="stylesheet" href="css/general.css" />

    <style>
      .contenedor__adiciones {
        display: flex;
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: center;
        gap: 0.5rem;
        height: 100%;
        width: 100%;
      }

      .contenedor_item {
        display: flex;
        flex-flow: column wrap;
        align-items: center;
        justify-content: center;
        width: 95px;
        height: 95px;

        border: 1px solid var(--color5);
        border-radius: 50%;

        background-image: url(assets/img/tex.png);
      }

      .escena {
        background-color: #2225;
        position: relative;
        width: 300px;
        height: 300px;
      }

      .estrella,
      .planeta,
      .luna,
      .asteroide,
      .satelite,
      .sol {
        position: absolute;
        border-radius: 50%;
      }

      .sol {
        width: 50px;
        height: 50px;
        background-color: yellow;
        top: 50%;
        left: 50%;
        margin-top: -25px;
        margin-left: -25px;
        box-shadow: 0 0 50px 20px rgba(255, 255, 0, 0.5);
      }

      .tarjeta {
        width: 4rem;
        height: 2.5rem;

        color: black;
        padding: 1px;
        border-radius: 40%;
        box-shadow: 0 5x 10px rgba(0, 0, 0, 0.4);
        text-align: center;
        font-size: 0.4rem;
      }

      .tarjeta .icono {
        font-size: 0.6rem;
      }

      .tarjeta.planeta {
        background-color: #7fb3d5;
      }

      .tarjeta.estrella {
        background-color: #f9e79f;
      }

      .tarjeta.luna {
        background-color: #d5d8dc;
      }

      .tarjeta.asteroide {
        background-color: #aab7b8;
      }

      .tarjeta.satelite {
        background-color: #7dcea0;
      }

      /* Orbital animations */
      @keyframes orbita1 {
        0% {
          transform: rotate(0deg) translateX(300px) rotate(0deg);
        }
        100% {
          transform: rotate(360deg) translateX(300px) rotate(-360deg);
        }
      }

      @keyframes orbita2 {
        0% {
          transform: rotate(0deg) translateX(200px) rotate(0deg);
        }
        100% {
          transform: rotate(360deg) translateX(200px) rotate(-360deg);
        }
      }

      @keyframes orbita3 {
        0% {
          transform: rotate(0deg) translateX(400px) rotate(0deg);
        }
        100% {
          transform: rotate(360deg) translateX(400px) rotate(-360deg);
        }
      }

      .planeta {
        animation: orbita1 20s linear infinite;
      }

      .estrella {
        animation: orbita2 30s linear infinite;
      }

      .luna {
        animation: orbita2 10s linear infinite;
      }

      .asteroide {
        animation: orbita3 25s linear infinite;
      }

      .satelite {
        animation: orbita1 15s linear infinite;
      }

      :root {
        --color-urano: #78dbe2; /* Color similar al de Urano */
        --color-principal: var(--color-urano);
        --color-terciario: white;
        --color-texto: #ffa500; /* Naranja lunar */
        --color-resaltado: yellow;
        --color-sombra: rgba(120, 219, 226, 0.8); /* Color de sombra de Urano */
        --hover-efecto: rgba(255, 0, 0, 0.3); /* Efecto hover */
      }

      body {
        font-family: Arial, sans-serif;
        background-image: url("https://www.nasa.gov/sites/default/files/thumbnails/image/lroc_wac_nearside.png"); /* Fondo lunar */
        background-size: cover;
        background-attachment: fixed;
        color: var(--color-texto);
        margin: 0;
        padding: 0;
      }

      .header {
        text-align: center;
        margin-top: 20px;
        position: relative;
        overflow: hidden;
      }

      .header h1,
      #oredenes h2 {
        font-size: 3em;
        color: var(--color-terciario);
        text-shadow: 3px 3px 5px var(--color-sombra),
          0 0 10px var(--color-sombra), 5px 5px 10px var(--color-sombra); /* Sombra 3D */
        position: relative;
        z-index: 2;
      }

      .header .planeta {
        position: absolute;
        width: 5rem;
        height: 5rem;
        background: radial-gradient(
          circle at 50% 50%,
          var(--color-urano),
          #4c9da1
        );
        border-radius: 50%;
        animation: mover 5s infinite linear;
        z-index: 1;
        top: 0;
        right: 20px;
      }

      @keyframes mover {
        0% {
          transform: translateY(0) rotate(0deg);
        }
        50% {
          transform: translateY(-10px) rotate(180deg);
        }
        100% {
          transform: translateY(0) rotate(360deg);
        }
      }

      h2 {
        font-size: 2em;
        color: var(--color-terciario);
        text-shadow: 1px 1px 5px var(--color-sombra);
      }

      ul {
        list-style: none;
        padding: 0;
      }

      li {
        font-size: 1.2em;
        padding: 10px;
      }

      li .emoji {
        margin-right: 10px;
      }

      li .resaltado {
        color: var(--color-resaltado);
        font-weight: bold;
        position: relative;
        cursor: pointer;
      }

      li .resaltado:hover {
        background-color: var(--hover-efecto);
      }

      /* Estructura de dos columnas para la primera fila */
      @media (min-width: 768px) {
        .menu {
          display: grid;
          grid-template-columns: 1fr 1fr;
          grid-template-rows: auto;
          gap: 20px;
        }

        .menu .columna {
          display: flex;
          flex-direction: column;
        }
      }

      /* En pantallas pequeñas, las secciones se muestran en una sola columna */
      @media (max-width: 767px) {
        .menu {
          display: block;
        }
      }

      .mensaje {
        margin-top: 20px;
        text-align: center;
      }

      .mensaje .favor {
        color: red;
        font-size: 1.2em;
      }

      /* Efectos de hover y activo para las salsas */
      .salsa-hover {
        position: relative;
      }

      .salsa-hover:hover {
        background-color: var(--hover-efecto);
      }

      .salsa-hover.efecto-rojo {
        color: red;
      }
    </style>
  </head>

  <body>
    <header class="Encabezado">
      <div class="header">
        <h1 class="texto__atractivo texto_3d_rapido">MOON FRIES</h1>

        <nav class="submenu">
          <ul>
            <li>
              <a href="#menu" class="enlace activo" onclick="setActivo(this)"
                >Menu</a
              >
            </li>
            <li>
              <a href="#ordenes" class="enlace" onclick="setActivo(this)"
                >Ordenes</a
              >
            </li>
            <li>
              <a href="#pedido" class="enlace" onclick="setActivo(this)"
                >Pedido</a
              >
            </li>
            <li>
              <a href="#juegos" class="enlace" onclick="setActivo(this)"
                >Juegos</a
              >
            </li>
          </ul>
        </nav>
      </div>
      <div class="Hero gradiente4">
        <img
          src="assets/logo.webp"
          alt="Astronauta sobre laluna y logodel restauraten moon fries"
        />
      </div>
    </header>

    <main>
      <!-- Productos Principales -->
      <section id="menu" class="gradiente3">
        <h2>MENU</h2>
        <div class="productos__grid">
          <!-- Productos Principales -->
          <div
            class="producto"
            id="postre1"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <img
              src="assets/img/postres/1.png"
              alt="Tarta de Fresa"
              class="producto__imagen"
            />
            <h3>Tarta de Fresa</h3>
            <p class="producto__precio">$14,000 COP</p>
          </div>

          <div
            class="producto"
            id="postre2"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <img
              src="assets/img/postres/2.png"
              alt="Cheesecake de Limón"
              class="producto__imagen"
            />
            <div class="tarjeta-dorada">
              <h3>Cheesecake de Limón</h3>
              <p class="producto__precio">$15,000 COP</p>
            </div>
          </div>
          <div
            class="producto"
            id="postre3"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <img
              src="assets/img/postres/3.png"
              alt="Brownie de Chocolate"
              class="producto__imagen"
            />
            <h3>Brownie de Chocolate</h3>
            <p class="producto__precio">$13,500 COP</p>
          </div>
        </div>
      </section>

      <section class="columna">
        <h2>Entradas</h2>
        <ul>
          <li>
            <span class="emoji">🛸</span> Aros de cebolla (5 unidades) - 8.000
          </li>
          <li>
            <span class="emoji">👨‍🚀</span> Patacón con hogao (5 unidades) - 8.000
          </li>
          <li>
            <span class="emoji">🛰️</span> Patacón con carne (5 unidades) -
            17.000
            <span class="resaltado">Especial</span>
          </li>
          <li>
            <span class="emoji">👽</span> Deditos de queso (5 unidades) - 17.000
            <span class="resaltado">Especial</span>
          </li>
        </ul>
      </section>

      <!-- Segunda columna: Bebidas -->
      <section class="columna">
        <h2>Bebidas</h2>
        <ul>
          <li>Gaseosa (250 ml) - 2.500</li>
          <li>Gaseosa (1 litro) - 7.500</li>
          <li>Té Hatsu - 6.000</li>
          <li>Gatoré - 4.000</li>
          <li>Agua - 3.000</li>
          <li>Hit - 4.000</li>
        </ul>
      </section>

      <!-- Segunda fila: Adiciones -->
      <section class="columna">
        <h2>Adiciones</h2>
        <ul>
          <li>Guacamole - 2.500</li>
          <li>Crema agria - 2.500</li>
          <li>Maicito - 4.000</li>
          <li>Adicional salsa - 2.000</li>
          <li>Huevos de codorniz (5 unidades) - 5.000</li>
          <li>Porción pulled pork - 6.000</li>
          <li>Porción pollo desmechado - 6.000</li>
          <li>Queso mozzarella - 4.000</li>
        </ul>
      </section>

      <!-- Segunda fila: Salsas -->
      <section class="columna">
        <h2>Salsas</h2>
        <ul>
          <li class="salsa-hover"><span class="emoji">🍗</span> Alitas BBQ</li>
          <li class="salsa-hover efecto-rojo">
            <span class="emoji">🍗</span> Mostaza Miel
          </li>
          <li class="salsa-hover efecto-rojo">
            <span class="emoji">🍗</span> BBQ Picante
          </li>
          <li class="salsa-hover">
            <span class="emoji">🍟</span> Papas Fritas
          </li>
          <li class="salsa-hover efecto-rojo">
            <span class="emoji">🍗</span> Alitas Búfalo (3 picantes)
          </li>
          <li class="salsa-hover">
            <span class="emoji">🍟</span> Papas Rosada Especial
          </li>
        </ul>
      </section>

      <section class="mensaje">
        <p>
          <span class="emoji">👨‍🚀</span>
          <span class="favor"
            >Favor <strong>realizar</strong> su pedido en la caja.
            ¡Gracias!</span
          >
        </p>
      </section>

      <!-- contenedor__adiciones -->
      <section id="ordenes" class="gradiente1">
        <h2>ORDENES</h2>
        <div class="contenedor__adiciones">
          <div
            class="producto contenedor_item color_mercurio"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🍔 Hamburguesa</h3>
            <p class="producto__precio">$15,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_venus"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🍕 Pizza</h3>
            <p class="producto__precio">$18,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_tierra"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🌭 Hot Dog</h3>
            <p class="producto__precio">$10,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_marte"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🍟 Papas Fritas</h3>
            <p class="producto__precio">$7,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_saturno"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🍗 Pollo Frito</h3>
            <p class="producto__precio">$12,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_urano"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🥪 Sándwich</h3>
            <p class="producto__precio">$11,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_marte"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🌯 Burrito</h3>
            <p class="producto__precio">$14,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_urano"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🍣 Sushi</h3>
            <p class="producto__precio">$22,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_urano"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🍩 Dona</h3>
            <p class="producto__precio">$5,000 COP</p>
          </div>

          <div
            class="producto contenedor_item color_saturno"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🍦 Helado</h3>
            <p class="producto__precio">$8,000 COP</p>
          </div>

          <div
            class="producto color_saturno contenedor_item"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🥤 Malteada</h3>
            <p class="producto__precio">$6,000 COP</p>
          </div>

          <div
            class="producto color_urano contenedor_item"
            draggable="true"
            ondragstart="arrastrar(event)"
          >
            <h3 class="producto__nombre">🍺 Cerveza</h3>
            <p class="producto__precio">$9,000 COP</p>
          </div>
        </div>
      </section>

      <!-- pedido-->
      <section id="pedido" class="menu__juego gradiente5">
        <h2>¡Crea tu Propia Receta!</h2>
        <div class="juego__area">
          <div
            class="juego__contenedor"
            id="contenedorReceta"
            ondrop="soltar(event)"
            ondragover="permitirArrastrar(event)"
          >
            <p id="contadorIngredientes">Ingredientes: 0</p>
          </div>

          <!-- Tabla de acumulado de productos -->
          <div>
            <p>Arrastra los productos hacia el contenedor.</p>
            <p>Observa el acumulado en la tabla.</p>
            <table class="juego__tabla" id="tablaAcumulado">
              <thead>
                <tr>
                  <th>Producto</th>
                  <th>Descripción</th>
                  <th>Cantidad</th>
                </tr>
              </thead>
              <tbody id="listaProductos"></tbody>
            </table>
            <p class="totales">Total: <span id="totalPrecio">$0</span></p>
          </div>
        </div>
      </section>
    </main>
    <section id="juegos">
      <style>
        #contenedor {
          max-width: 90%;
          height: 100vh;
        }
      </style>
      <div id="contenedor" class="contenedor3d"></div>

      <!-- Incluye Three.js y el cargador GLTF -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
      <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/geometries/TextGeometry.js"></script>

      <script>
        let scene, camera, renderer, model;
        let isDragging = false,
          previousMousePosition = { x: 0, y: 0 };

        // Inicialización de la escena, cámara y renderizador
        function init() {
          scene = new THREE.Scene();

          // Cambiar el color del fondo a un tono más claro
          scene.background = new THREE.Color(0x000022);

          camera = new THREE.PerspectiveCamera(
            75,
            window.innerWidth / window.innerHeight,
            0.1,
            1000
          );
          renderer = new THREE.WebGLRenderer({ antialias: true });
          renderer.setSize(window.innerWidth, window.innerHeight);
          document
            .getElementById("contenedor")
            .appendChild(renderer.domElement);

          // Luz para iluminar el modelo
          const light = new THREE.DirectionalLight(0xffffff, 1);
          light.position.set(1, 1, 1).normalize();
          scene.add(light);

          // Agregar luz ambiental para mejorar la visibilidad
          const ambientLight = new THREE.AmbientLight(0x404040, 2);
          scene.add(ambientLight);

          // Cargar el modelo 3D de astronauta
          const loader = new THREE.GLTFLoader();
          loader.load(
            "assets/3d/astro.glb",
            function (gltf) {
              model = gltf.scene;
              scene.add(model);
              model.position.set(0, -1, 0); // Ajusta la posición del modelo
            },
            undefined,
            function (error) {
              console.error(error);
            }
          );

          // Posicionar la cámara
          camera.position.z = 5;

          // Agregar estrellas a la escena con mayor tamaño
          addStars();

          // Agregar frases
          addText("Explora el universo", -2, 2, 0.5);
          addText("Vuela más alto", 1, 1, 0.5);
        }

        // Agregar estrellas a la escena
        function addStars() {
          for (let i = 0; i < 100; i++) {
            const geometry = new THREE.SphereGeometry(0.2, 24, 24); // Aumentar tamaño de las estrellas
            const material = new THREE.MeshBasicMaterial({ color: 0xffffff });
            const star = new THREE.Mesh(geometry, material);

            const [x, y, z] = Array(3)
              .fill()
              .map(() => THREE.MathUtils.randFloatSpread(50)); // Reducir el spread para que las estrellas estén más cerca
            star.position.set(x, y, z);
            scene.add(star);
          }
        }

        // Agregar texto a la escena
        function addText(text, x, y, z) {
          const loader = new THREE.FontLoader();
          loader.load(
            "https://threejs.org/examples/fonts/helvetiker_regular.typeface.json",
            function (font) {
              const geometry = new THREE.TextGeometry(text, {
                font: font,
                size: 0.5,
                height: 0.1,
              });
              const material = new THREE.MeshBasicMaterial({ color: 0x00ff00 });
              const mesh = new THREE.Mesh(geometry, material);
              mesh.position.set(x, y, z);
              scene.add(mesh);
            }
          );
        }

        // Rotación del modelo con el scroll del mouse
        window.addEventListener("wheel", function (event) {
          if (model) {
            model.rotation.y += event.deltaY * 0.01; // Controla la rotación con el scroll
          }
        });

        // Eventos de arrastre para rotar el modelo
        document.addEventListener("mousedown", function (event) {
          isDragging = true;
        });

        document.addEventListener("mousemove", function (event) {
          if (isDragging && model) {
            let deltaMove = {
              x: event.clientX - previousMousePosition.x,
              y: event.clientY - previousMousePosition.y,
            };

            model.rotation.y += deltaMove.x * 0.005; // Rotación en el eje Y
            model.rotation.x += deltaMove.y * 0.005; // Rotación en el eje X

            previousMousePosition = {
              x: event.clientX,
              y: event.clientY,
            };
          }
        });

        document.addEventListener("mouseup", function () {
          isDragging = false;
        });

        // Función de animación
        function animate() {
          requestAnimationFrame(animate);
          renderer.render(scene, camera);
        }

        // Ajustar el tamaño cuando se redimensiona la ventana
        window.addEventListener("resize", () => {
          const width = window.innerWidth;
          const height = window.innerHeight;
          renderer.setSize(width, height);
          camera.aspect = width / height;
          camera.updateProjectionMatrix();
        });

        // Inicializa y anima la escena
        init();
        animate();
      </script>
    </section>
    <script src="js/menu.js"></script>
    <script src="js/enlace.js"></script>
  </body>
</html>
